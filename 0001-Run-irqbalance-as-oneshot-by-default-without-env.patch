From e1ee9756e1c1668641f97a8b8fb53a5f2060c50c Mon Sep 17 00:00:00 2001
From: Auke Kok <auke-jan.h.kok@intel.com>
Date: Wed, 15 Jan 2020 11:49:33 -0800
Subject: [PATCH] Run irqbalance as oneshot by default, without env.

---
 misc/irqbalance.service | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/misc/irqbalance.service b/misc/irqbalance.service
index bb6ed98..1065a70 100644
--- a/misc/irqbalance.service
+++ b/misc/irqbalance.service
@@ -5,8 +5,8 @@ Documentation=https://github.com/Irqbalance/irqbalance
 ConditionVirtualization=!container
 
 [Service]
-EnvironmentFile=/path/to/irqbalance.env
-ExecStart=/usr/sbin/irqbalance --foreground $IRQBALANCE_ARGS
+Type=oneshot
+ExecStart=/usr/sbin/irqbalance --oneshot
 CapabilityBoundingSet=
 NoNewPrivileges=yes
 ReadOnlyPaths=/
-- 
2.25.0

